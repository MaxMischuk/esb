<template1C xmlns="http://axelot.ru/esb/cc/2015/01" name="ESW-1.BP30.ЗапросДанных.In" type="Входящая" version="0">
  <ingoingSettings messageClassId="57" messageClassName="ESW-1.ЗапросДанных"/>
  <code>xdtoОбъект = сшпОбщегоНазначения.ПолучитьОбъектXDTO(ФорматСообщения, ОбъектСообщение.Body);&#13;
&#13;
ПоляЗапросаДанных = xdtoОбъект.Получить("ПоляЗапросаДанных");&#13;
Если ПоляЗапросаДанных &lt;&gt; Неопределено Тогда&#13;
	&#13;
	ПоляЗапросаДанныхПосл = ПоляЗапросаДанных.Последовательность();&#13;
	ВГраница = ПоляЗапросаДанныхПосл.Количество()-1;&#13;
	Для Инд = 0 По ВГраница Цикл&#13;
		xdtoСтрока = ПоляЗапросаДанныхПосл.ПолучитьЗначение(Инд);&#13;
		&#13;
		ТипДанных = xdtoСтрока.Получить("ТипДанных");&#13;
		ЗначениеПоля = xdtoСтрока.Получить("ЗначениеПоля");&#13;
		&#13;
		Если ТипДанных = "Валюта" Тогда&#13;
			Менеджер = Справочники.Валюты;&#13;
		ИначеЕсли ТипДанных = "Контрагент" Тогда&#13;
			Менеджер = Справочники.Контрагенты;&#13;
		ИначеЕсли ТипДанных = "Склад" Тогда&#13;
			Менеджер = Справочники.Склады;&#13;
		ИначеЕсли ТипДанных = "Организация" Тогда&#13;
			Менеджер = Справочники.Организации;		&#13;
		ИначеЕсли ТипДанных = "Товар" Тогда&#13;
			Менеджер = Справочники.Номенклатура;		&#13;
		Иначе&#13;
			Продолжить;&#13;
		КонецЕсли;&#13;
		&#13;
		ИсточникСсылка = Менеджер.ПолучитьСсылку(Новый УникальныйИдентификатор(ЗначениеПоля));&#13;
		ИсточникОбъект = ИсточникСсылка.ПолучитьОбъект();&#13;
		Если ИсточникОбъект &lt;&gt; Неопределено Тогда&#13;
			сшпОбработкаСобытий.ВыполнитьОбменСШП(ИсточникОбъект, Ложь);&#13;
		КонецЕсли;&#13;
	КонецЦикла;&#13;
	&#13;
Иначе &#13;
	СостояниеСообщения = Перечисления.сшпСтатусыСообщений.ОбработкаОтменена;	&#13;
КонецЕсли;&#13;
</code>
  <comment/>
  <variables/>
</template1C>
