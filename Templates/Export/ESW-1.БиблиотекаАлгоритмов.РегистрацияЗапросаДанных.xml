<template1C xmlns="http://axelot.ru/esb/cc/2015/01" keepObjLink="true" name="ESW-1.БиблиотекаАлгоритмов.РегистрацияЗапросаДанных" type="Исходящая" version="0">
  <outgoingSettings objectType="БиблиотекаАлгоритмов.РегистрацияЗапросаДанных"/>
  <code>ЗадержкаЗапросаДанных = $ЗадержкаЗапросаДанных;	&#13;
	&#13;
	//Запрос данных - обработка&#13;
	Если НенайденныеОбъектыМассив.Количество()&gt;0 Тогда&#13;
		&#13;
		СостояниеСообщения = Перечисления.сшпСтатусыСообщений.ОжиданиеОбработки;&#13;
		Задержка = ЗадержкаЗапросаДанных;&#13;
		&#13;
		Данные = Новый Структура;&#13;
		Данные.Вставить("ПоляЗапросаДанных", НенайденныеОбъектыМассив);&#13;
		&#13;
		ТипОбъекта = "ЗапросДанных";&#13;
		ЗначениеХранения = сшпОбщегоНазначения.ПреобразоватьСтруктуруПоФормату(ФорматСообщения, Данные);&#13;
		ФорматСериализация = Перечисления.сшпФорматыСообщений.XML;&#13;
		МетодХранения = Перечисления.сшпМетодХранения.ПоСсылке;&#13;
		&#13;
		сшпРаботаСДанными.ПоместитьВОчередьИсходящих(ТипОбъекта, ЗначениеХранения, ФорматСериализация, МетодХранения);&#13;
		&#13;
		ЗаписьЖурналаРегистрации(&#13;
		"Datareon. ЗапросДанных", УровеньЖурналаРегистрации.Предупреждение,, &#13;
		Идентификатор, "Текст запроса данных в обработчике (ESW-1.УФ.Поступления.In) " + ЗначениеХранения&#13;
		);&#13;
		&#13;
	КонецЕсли;	&#13;
</code>
  <comment/>
  <variables>
    <variable comment="" default="30" name="ЗадержкаЗапросаДанных" type="Код 1С"/>
  </variables>
</template1C>
