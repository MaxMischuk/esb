<template1C xmlns="http://axelot.ru/esb/cc/2015/01" keepObjLink="true" name="ESW-1.BP30.Поступление.Out" type="Исходящая" version="0">
  <outgoingSettings objectType="Документ.ПоступлениеТоваровУслуг"/>
  <code>РезультатОбработки.ClassId = 55;&#13;
&#13;
Данные = Новый Структура;&#13;
Данные.Вставить("Ссылка", ОбъектОбработки);&#13;
Данные.Вставить("ПометкаУдаления", ОбъектОбработки.ПометкаУдаления);&#13;
Данные.Вставить("Дата", ОбъектОбработки.Дата);&#13;
Данные.Вставить("Поставщик", ОбъектОбработки.Контрагент);&#13;
Данные.Вставить("Склад", ОбъектОбработки.Склад);&#13;
Данные.Вставить("Организация", ОбъектОбработки.Организация);&#13;
Данные.Вставить("Валюта", ОбъектОбработки.ДоговорКонтрагента.ВалютаВзаиморасчетов);&#13;
&#13;
мсвТаблица = Новый Массив;&#13;
Для каждого текСтрока из ОбъектОбработки.Товары цикл&#13;
		Товары = Новый Структура;&#13;
		Товары.Вставить("Товар", текСтрока.Номенклатура);&#13;
		Товары.Вставить("Цена", текСтрока.Цена);&#13;
		Товары.Вставить("Количество", текСтрока.Количество);&#13;
		Товары.Вставить("Сумма", текСтрока.Сумма);&#13;
&#13;
		мсвТаблица.Добавить(Товары);&#13;
КонецЦикла; &#13;
Данные.Вставить("Товары", мсвТаблица);&#13;
&#13;
РезультатОбработки.Body = сшпОбщегоНазначения.ПреобразоватьСтруктуруПоФормату(ФорматСообщения, Данные);&#13;
</code>
  <comment/>
  <variables/>
</template1C>
