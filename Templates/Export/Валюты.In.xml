<template1C xmlns="http://axelot.ru/esb/cc/2015/01" name="Валюты.In" type="Входящая" version="0">
  <ingoingSettings messageClassId="2" messageClassName="Валюты"/>
  <code>//Определение переменных&#13;
ПустойИдентификатор = "00000000-0000-0000-0000-000000000000";&#13;
&#13;
//Получение тела сообщения&#13;
xdtoОбъект = сшпОбщегоНазначения.ПолучитьОбъектXDTO(ФорматСообщения, ОбъектСообщение.Body);&#13;
&#13;
//Поиск объекта&#13;
ЗначениеДляПоиска = xdtoОбъект.Код;&#13;
новыйОбъект = Справочники.Валюты.НайтиПоКоду(ЗначениеДляПоиска);&#13;
&#13;
Если новыйОбъект = Неопределено ИЛИ новыйОбъект.Пустая() Тогда&#13;
		новыйОбъект = Справочники.Валюты.СоздатьЭлемент();&#13;
Иначе&#13;
		новыйОбъект = новыйОбъект.ПолучитьОбъект();&#13;
КонецЕсли;&#13;
&#13;
&#13;
////////////////////////////////////////////////////////////////////////////////&#13;
//Реквизиты шапки&#13;
&#13;
//Наименование&#13;
новыйОбъект.Наименование = xdtoОбъект.Получить("Наименование");&#13;
&#13;
//Код&#13;
новыйОбъект.Код = xdtoОбъект.Получить("Код");&#13;
&#13;
//ЗагружаетсяИзИнтернета&#13;
новыйОбъект.ЗагружаетсяИзИнтернета = xdtoОбъект.Получить("ЗагружаетсяИзИнтернета");&#13;
&#13;
//НаименованиеПолное&#13;
новыйОбъект.НаименованиеПолное = xdtoОбъект.Получить("НаименованиеПолное");&#13;
&#13;
//Наценка&#13;
новыйОбъект.Наценка = xdtoОбъект.Получить("Наценка");&#13;
&#13;
//ОсновнаяВалюта&#13;
Значение = xdtoОбъект.Получить("ОсновнаяВалюта");&#13;
Если Значение &lt;&gt; ПустойИдентификатор И ЗначениеЗаполнено(Значение) Тогда&#13;
    новыйОбъект.ОсновнаяВалюта = Справочники.Валюты.ПолучитьСсылку(новый УникальныйИдентификатор(Значение));&#13;
Иначе&#13;
    новыйОбъект.ОсновнаяВалюта = Справочники.Валюты.ПустаяСсылка();&#13;
КонецЕсли;&#13;
&#13;
//ПараметрыПрописи&#13;
новыйОбъект.ПараметрыПрописи = xdtoОбъект.Получить("ПараметрыПрописи");&#13;
&#13;
//ФормулаРасчетаКурса&#13;
новыйОбъект.ФормулаРасчетаКурса = xdtoОбъект.Получить("ФормулаРасчетаКурса");&#13;
&#13;
//СпособУстановкиКурса&#13;
Значение = xdtoОбъект.Получить("СпособУстановкиКурса");&#13;
Если ЗначениеЗаполнено(Значение) Тогда&#13;
    новыйОбъект.СпособУстановкиКурса = XMLЗначение(Тип("ПеречислениеСсылка.СпособыУстановкиКурсаВалюты"), Значение);&#13;
Иначе&#13;
    новыйОбъект.СпособУстановкиКурса = Перечисления.СпособыУстановкиКурсаВалюты.ПустаяСсылка();&#13;
КонецЕсли;&#13;
&#13;
&#13;
//Запись объекта&#13;
новыйОбъект.ДополнительныеСвойства.Вставить("СШПНеобрабатывать", Истина);&#13;
новыйОбъект.Записать();&#13;
</code>
  <comment>Автоматически сгенерировано</comment>
  <variables/>
</template1C>
